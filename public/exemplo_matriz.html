<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Exemplo - Matriz</title>
  </head>

  <style>
    #div_matriz {
      width: 100%;
      height: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      letter-spacing: 50px;
      margin-top: 20%;
    }
  </style>

  <body onload="gerarBlocosMatriz()">

    <div class="temporizador">mudar</div>

    <select id="slc_dificuldade">
      <option value="facil">Fácil</option>
      <option value="medio">Médio</option>
      <option value="dificil" >Difícil</option>
    </select>
    <button onclick="definirDificuldade()">Alterar Dificuldade</button>

    <div id="div_matriz">
      <div
        class="grama"
        id="teste11"
        value="0,0"
        onclick="escavar()"
        style="background-color: green; width: 100px; height: 100px"
      ></div>
    </div>
  </body>
</html>

<script>
  const matriz = [
    [3, 1, 1, 1, 1, 1, 2],
    [1, 1, 1, 2, 1, 1, 1],
    [1, 1, 1, 1, 1, 1, 1],
    [1, 2, 1, 1, 1, 1, 1],
    [1, 1, 1, 1, 3, 1, 1],
    [1, 1, 1, 1, 1, 1, 1],
    [2, 1, 1, 1, 1, 1, 1],
  ];
  
  console.log(matriz);
  //                 linha / coluna
  console.log(matriz[0][0]); // A
  console.log(matriz[2][1]); // H

  for (let i = 0; i < matriz.length; i++) {
    for (let j = 0; j < matriz[i].length; j++) {
      //console.log(matriz[i][j])
      div_matriz.innerHTML += `${matriz[i][j]}</div>`;
    }
    div_matriz.innerHTML += "<br><br>";
  }

  function escavar(stringCoordenadas) {
    var parametroCoordenada = stringCoordenadas;

    var casinhaSelecionada = document
      .getElementById(parametroCoordenada)
      .getAttribute("value")
      .split(",");
    console.log(casinhaSelecionada);
    var pegarValorMatriz = matriz[casinhaSelecionada[0]][casinhaSelecionada[1]];
    console.log("Valor Matriz = " + pegarValorMatriz);
  }

  function gerarBlocosMatriz() {
    for (let i = 0; i < matriz.length; i++) {
      for (let j = 0; j < matriz[i].length; j++) {
        //console.log(matrizUsada[i][j])
        div_matriz.innerHTML += `
      <div
        class="grama"
        id="casinha${i},${j}"
        value="${i},${j}"
        onclick="escavar('casinha${i},${j}')"
        style="background-color: green; width: 100px; height: 100px; border: 1px solid black"
        
      ></div>
      `;
      }
      div_matriz.innerHTML += "<br><br>";
    }
  }

  var intervalo;
  var tempoRestante = 120;
  var temporizador = document.querySelector(".temporizador");

  function definirDificuldade() {
    var slc = document.getElementById("slc_dificuldade");
    if (slc.value === "facil") {
      tempoRestante = 120;
    } else if (slc.value === "medio") {
      tempoRestante = 240;
    } else if (slc.value === "dificil") {
      tempoRestante = 480;
    }
    atualizarTemporizador();
    clearInterval(intervalo);
    intervalo = setInterval(contar, 1000);
  }
    var temporizador = document.querySelector(".temporizador")

    function atualizarTemporizador() {
    var minutos = Math.floor(tempoRestante / 60)
    var segundos = tempoRestante % 60
    if (minutos < 10) minutos = "0" + minutos
    if (segundos < 10) segundos = "0" + segundos
    temporizador.textContent = minutos + ":" + segundos
    }

    atualizarTemporizador()

    function contar() {
    tempoRestante = tempoRestante - 1
        if (tempoRestante >= 0) {
    atualizarTemporizador()
    }   else {
    temporizador.textContent = "00:00"
    clearInterval(intervalo)
        }
    }
    var intervalo = setInterval(contar, 1000) // Um segundo

    if (document.querySelector(".temporizador").textContent === "00:00") {

    }
  
</script>
